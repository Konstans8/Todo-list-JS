{"version":3,"sources":["todo-app.js"],"names":["todoArray","createAppTitle","title","appTitle","document","createElement","innerHTML","createTodoForm","form","input","addButton","wrapper","disabled","value","length","addEventListener","classList","add","placeholder","textContent","append","createTodoList","list","createTodoItem","name","todoItem","btnWrapper","doneBtn","deleteBtn","randomId","Math","random","id","toFixed","changeItemDone","arr","item","map","obj","done","completeTodoItem","btn","JSON","parse","localStorage","getItem","key","toggle","setItem","stringify","deleteTodoItem","confirm","newList","filter","remove","createTodoApp","container","appForm","appList","e","preventDefault","localStorageData","createItemObj","itemObj","push"],"mappings":"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","sourcesContent":["\r\nlet todoArray = [];\r\n\r\nconst createAppTitle = (title) => {\r\n    const appTitle = document.createElement('h1');\r\n    appTitle.innerHTML = title;\r\n\r\n    return appTitle;\r\n};\r\n\r\nconst createTodoForm = () => {\r\n    const form = document.createElement('form');\r\n    const input = document.createElement('input');\r\n    const addButton = document.createElement('button');\r\n    const wrapper = document.createElement('div');\r\n\r\n    addButton.disabled = !input.value.length;\r\n\r\n    input.addEventListener('input', () => {\r\n        addButton.disabled = !input.value.length;\r\n    })\r\n\r\n    form.classList.add('input-group', 'mb-3');\r\n    input.classList.add('form-control');\r\n    input.placeholder = 'Введите название дела';\r\n    addButton.classList.add('btn', 'btn-primary');\r\n    wrapper.classList.add('input-group-append');\r\n    addButton.textContent = 'Добавить дело';\r\n\r\n    wrapper.append(addButton);\r\n    form.append(input);\r\n    form.append(wrapper);\r\n\r\n    return {\r\n        form,\r\n        input,\r\n        addButton\r\n    };\r\n};\r\n\r\nconst createTodoList = () => {\r\n    const list = document.createElement('ul');\r\n    list.classList.add('list-group');\r\n\r\n    return list;\r\n};\r\n\r\nconst createTodoItem = (name) => {\r\n    const todoItem = document.createElement('li');\r\n    const btnWrapper = document.createElement('div');\r\n    const doneBtn = document.createElement('button');\r\n    const deleteBtn = document.createElement('button');\r\n\r\n    const randomId = Math.random() * 15.75;\r\n    todoItem.id = randomId.toFixed(2);\r\n\r\n    todoItem.classList.add('list-group-item', 'd-flex', 'justify-content-between', 'align-item-center');\r\n    doneBtn.classList.add('btn', 'btn-success');\r\n    deleteBtn.classList.add('btn', 'btn-danger');\r\n    todoItem.textContent = name;\r\n    doneBtn.textContent = 'Готово';\r\n    deleteBtn.textContent = 'Удалить';\r\n\r\n    btnWrapper.append(doneBtn, deleteBtn);\r\n    todoItem.append(btnWrapper);\r\n    \r\n\r\n    return {\r\n        todoItem,\r\n        doneBtn,\r\n        deleteBtn,\r\n        btnWrapper\r\n    };\r\n};\r\n\r\nconst changeItemDone = (arr, item) => {\r\n    arr.map(obj => {\r\n        if(obj.id === item.id & obj.done === false) {\r\n            obj.done = true;\r\n        } else if (obj.id === item.id & obj.done === true) {\r\n            obj.done = false;\r\n        }\r\n    });\r\n}\r\n\r\nconst completeTodoItem = (item, btn) => {\r\n    btn.addEventListener('click', () => {\r\n        todoArray = JSON.parse(localStorage.getItem(key));\r\n        item.classList.toggle('list-group-item-success');\r\n        changeItemDone(todoArray, item);\r\n\r\n        localStorage.setItem(key, JSON.stringify(todoArray));\r\n    })\r\n};\r\n\r\nconst deleteTodoItem = (item, btn) => {\r\n    btn.addEventListener('click', () => {\r\n        if(confirm('Вы уверены?')) {\r\n            todoArray = JSON.parse(localStorage.getItem(key));\r\n\r\n            const newList = todoArray.filter(obj => obj.id !== item.id);\r\n\r\n            localStorage.setItem(key, JSON.stringify(newList));\r\n            item.remove();\r\n        }\r\n    })\r\n};\r\n\r\nfunction createTodoApp(container, title, key) {\r\n    const appTitle = createAppTitle(title);\r\n    const appForm = createTodoForm();\r\n    const appList = createTodoList();\r\n\r\n    container.append(appTitle, appForm.form, appList);\r\n\r\n    if(localStorage.getItem(key)) {\r\n        todoArray = JSON.parse(localStorage.getItem(key))\r\n\r\n        for(const obj of todoArray) {\r\n            const todoItem = createTodoItem(appForm.input.value);\r\n\r\n            todoItem.todoItem.textContent = obj.name;\r\n            todoItem.todoItem.id = obj.id;\r\n\r\n            if(obj.done == true) {\r\n                todoItem.todoItem.classList.add('list-group-item-success');\r\n            } else {\r\n                todoItem.todoItem.classList.remove('list-group-item-success');\r\n            }\r\n\r\n            completeTodoItem(todoItem.todoItem, todoItem.doneBtn);\r\n            deleteTodoItem(todoItem.todoItem, todoItem.deleteBtn);\r\n\r\n            appList.append(todoItem.todoItem);\r\n            todoItem.todoItem.append(todoItem.btnWrapper);\r\n        }\r\n    }\r\n\r\n    appForm.form.addEventListener('submit', e => {\r\n        e.preventDefault();\r\n\r\n        const todoItem = createTodoItem(appForm.input.value);\r\n\r\n        if(!appForm.input.value) {\r\n            return;\r\n        }\r\n\r\n        completeTodoItem(todoItem.todoItem, todoItem.doneBtn);\r\n        deleteTodoItem(todoItem.todoItem, todoItem.deleteBtn);\r\n\r\n        let localStorageData = localStorage.getItem(key);\r\n\r\n        if(localStorageData == null) {\r\n            todoArray = [];\r\n        } else {\r\n            todoArray =JSON.parse(localStorageData);\r\n        }\r\n\r\n        const createItemObj = (arr) => {\r\n            const itemObj = {};\r\n            itemObj.name = appForm.input.value;\r\n            itemObj.id = todoItem.todoItem.id;\r\n            itemObj.done = false;\r\n\r\n            arr.push(itemObj);\r\n        }\r\n        createItemObj(todoArray);\r\n        localStorage.setItem(key, JSON.stringify(todoArray));\r\n\r\n        appList.append(todoItem.todoItem);\r\n        appForm.input.value = '';\r\n        appForm.addButton.disabled = !appForm.addButton.disabled;\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"file":"todo-app.dev.js"}